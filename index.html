<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Healthcare Management System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #00897b;
            --primary-dark: #00695c;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --light: #f8f9fa;
            --dark: #343a40;
            --border: #dee2e6;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header {
            background: var(--primary);
            color: white;
            padding: 20px;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        .nav-menu {
            background: white;
            border-bottom: 2px solid var(--primary);
            margin-bottom: 30px;
            display: flex;
            gap: 10px;
            padding: 15px;
            border-radius: 8px;
            flex-wrap: wrap;
        }
        .nav-menu button {
            padding: 10px 20px;
            border: none;
            background: var(--light);
            color: var(--dark);
            cursor: pointer;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        .nav-menu button:hover, .nav-menu button.active {
            background: var(--primary);
            color: white;
        }
        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .card {
            background: white;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-left: 4px solid var(--primary);
        }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 600; }
        input, textarea, select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
        }
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0,137,123,0.1);
        }
        .btn {
            padding: 11px 22px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: var(--primary-dark); }
        .btn-danger { background: var(--danger); color: white; }
        .btn-success { background: var(--success); color: white; }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        thead { background: var(--primary); color: white; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid var(--border); }
        tbody tr:hover { background: var(--light); }
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        .badge-success { background: rgba(40,167,69,0.1); color: var(--success); }
        .badge-danger { background: rgba(220,53,69,0.1); color: var(--danger); }
        .alert {
            padding: 15px 20px;
            border-radius: 6px;
            margin-bottom: 20px;
            border-left: 4px solid;
        }
        .alert-success { background: rgba(40,167,69,0.1); border-color: var(--success); color: var(--success); }
        .alert-danger { background: rgba(220,53,69,0.1); border-color: var(--danger); color: var(--danger); }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            text-align: center;
            border-top: 4px solid var(--primary);
        }
        .stat-card .number { font-size: 32px; font-weight: 700; color: var(--primary); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        @media (max-width: 768px) { .form-row { grid-template-columns: 1fr; } }
        .search-box { margin-bottom: 20px; display: flex; gap: 10px; }
        .search-box input { flex: 1; }
        .no-data { text-align: center; padding: 40px; color: #999; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üè• Healthcare Management System</h1>
            <p>Project created by Rishit Das, Samyak Sharma, Ronit Duggal and Reyhaan Alex.</p>
            <p>Python Backend - Flask Application</p>
        </header>

        <div class="nav-menu">
            <button class="nav-btn active" onclick="showSection('dashboard')">üìä Dashboard</button>
            <button class="nav-btn" onclick="showSection('patients')">üë• Patients</button>
            <button class="nav-btn" onclick="showSection('appointments')">üìÖ Appointments</button>
            <button class="nav-btn" onclick="showSection('health')">üí™ Health Metrics</button>
            <button class="nav-btn" onclick="showSection('symptoms')">ü©∫ Symptoms</button>
            <button class="nav-btn" onclick="showSection('predictions')">üîç Risk Analysis</button>
        </div>

        <div id="message"></div>

        <!-- Dashboard -->
        <div id="dashboard" class="section active">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Patients</h3>
                    <div class="number" id="total-patients">0</div>
                </div>
                <div class="stat-card">
                    <h3>Appointments</h3>
                    <div class="number" id="total-appointments">0</div>
                </div>
                <div class="stat-card">
                    <h3>Health Records</h3>
                    <div class="number" id="total-health">0</div>
                </div>
                <div class="stat-card">
                    <h3>Symptom Reports</h3>
                    <div class="number" id="total-symptoms">0</div>
                </div>
            </div>
        </div>

        <!-- Patients -->
        <div id="patients" class="section">
            <div class="card">
                <h2>Patient Management</h2>
                <button class="btn btn-primary" onclick="toggleForm('patientForm')">‚ûï Add Patient</button>
                <form id="patientForm" style="display:none; margin: 20px 0;" onsubmit="addPatient(event)">
                    <div class="form-group">
                        <label>Name *</label>
                        <input type="text" id="p-name" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Age *</label>
                            <input type="number" id="p-age" required>
                        </div>
                        <div class="form-group">
                            <label>Contact *</label>
                            <input type="text" id="p-contact" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Medical History</label>
                        <textarea id="p-history"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">‚úÖ Add</button>
                    <button type="button" class="btn" onclick="toggleForm('patientForm')">Cancel</button>
                </form>

                <table id="patients-table">
                    <thead>
                        <tr>
                            <th>Patient ID</th>
                            <th>Name</th>
                            <th>Age</th>
                            <th>Contact</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="patients-body">
                        <tr class="no-data"><td colspan="5">No patients yet</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Appointments -->
        <div id="appointments" class="section">
            <div class="card">
                <h2>Appointment Management</h2>
                <button class="btn btn-primary" onclick="toggleForm('appointmentForm')">‚ûï Book Appointment</button>
                <form id="appointmentForm" style="display:none; margin: 20px 0;" onsubmit="addAppointment(event)">
                    <div class="form-group">
                        <label>Patient ID *</label>
                        <input type="text" id="apt-pid" required>
                    </div>
                    <div class="form-group">
                        <label>Department *</label>
                        <select id="apt-dept" required onchange="onDepartmentChange()">
                            <option value="">-- Select Department --</option>
                            <option value="general">General Medicine</option>
                            <option value="ent">ENT (Ear, Nose & Throat)</option>
                            <option value="cardio">Cardiology</option>
                            <option value="ortho">Orthopaedics</option>
                            <option value="neuro">Neurology</option>
                        </select>
                        <small id="dept-desc" style="display:block;margin-top:6px;color:#666;"></small>
                    </div>
                    <div class="form-group">
                        <label>Doctor *</label>
                        <select id="apt-doctor" required>
                            <option value="">-- Select Doctor --</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Date *</label>
                            <input type="date" id="apt-date" required>
                        </div>
                        <div class="form-group">
                            <label>Time *</label>
                            <input type="time" id="apt-time" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">‚úÖ Book</button>
                    <button type="button" class="btn" onclick="toggleForm('appointmentForm')">Cancel</button>
                </form>

                <table id="appointments-table">
                    <thead>
                        <tr>
                            <th>Appointment ID</th>
                            <th>Patient ID</th>
                            <th>Doctor</th>
                            <th>Date & Time</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="appointments-body">
                        <tr class="no-data"><td colspan="6">No appointments</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Health Metrics -->
        <div id="health" class="section">
            <div class="card">
                <h2>BMI & Health Metrics</h2>
                <button class="btn btn-primary" onclick="toggleForm('bmiForm')">‚ûï Record BMI</button>
                <form id="bmiForm" style="display:none; margin: 20px 0;" onsubmit="addBMI(event)">
                    <div class="form-group">
                        <label>Patient ID *</label>
                        <input type="text" id="bmi-pid" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Weight (kg) *</label>
                            <input type="number" id="bmi-weight" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label>Height (m) *</label>
                            <input type="number" id="bmi-height" step="0.01" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">‚úÖ Record</button>
                    <button type="button" class="btn" onclick="toggleForm('bmiForm')">Cancel</button>
                </form>

                <table id="bmi-table">
                    <thead>
                        <tr>
                            <th>Patient ID</th>
                            <th>Weight (kg)</th>
                            <th>Height (m)</th>
                            <th>BMI</th>
                            <th>Category</th>
                            <th>Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="bmi-body">
                        <tr class="no-data"><td colspan="7">No records</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Symptoms -->
        <div id="symptoms" class="section">
            <div class="card">
                <h2>Symptom Recording</h2>
                <button class="btn btn-primary" onclick="toggleForm('symptomForm')">‚ûï Record Symptoms</button>
                <form id="symptomForm" style="display:none; margin: 20px 0;" onsubmit="addSymptom(event)">
                    <div class="form-group">
                        <label>Patient ID *</label>
                        <input type="text" id="sym-pid" required>
                    </div>
                    <div class="form-group">
                        <label>Symptoms (comma-separated) *</label>
                        <textarea id="sym-list" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">‚úÖ Record</button>
                    <button type="button" class="btn" onclick="toggleForm('symptomForm')">Cancel</button>
                </form>

                <table id="symptoms-table">
                    <thead>
                        <tr>
                            <th>Patient ID</th>
                            <th>Symptoms</th>
                            <th>Condition</th>
                            <th>Action</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody id="symptoms-body">
                        <tr class="no-data"><td colspan="5">No records</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Predictions -->
        <div id="predictions" class="section">
            <div class="card">
                <h2>Disease Risk Analysis</h2>
                <div class="form-group">
                    <label>Patient ID *</label>
                    <input type="text" id="pred-pid" placeholder="Enter Patient ID">
                    <button class="btn btn-primary" onclick="analyzePrediction()" style="margin-top: 10px;">üîç Analyze</button>
                </div>
                <div id="pred-results"></div>
            </div>
        </div>
    </div>

    <script>
        const API_URL = `${window.location.protocol}//${window.location.hostname}:5000/api`;

        const DEPARTMENT_INFO = {
            general: {
                name: 'General Medicine',
                desc: 'General Medicine handles common illnesses, routine check-ups, fevers, infections and overall health concerns.',
                doctors: [
                    'Dr. Aarav Mehta',
                    'Dr. Riya Kulkarni',
                    'Dr. Sandeep Iyer',
                    'Dr. Neha Kapoor',
                    'Dr. Varun Malhotra'
                ]
            },
            ent: {
                name: 'ENT (Ear, Nose & Throat)',
                desc: 'ENT specialises in ear pain, throat infections, sinus issues, hearing problems and related conditions.',
                doctors: [
                    'Dr. Ishaan Reddy',
                    'Dr. Meera Nair',
                    'Dr. Pratik Sharma',
                    'Dr. Ananya Deshpande',
                    'Dr. Rohit Bansal'
                ]
            },
            cardio: {
                name: 'Cardiology',
                desc: 'Cardiology deals with heart diseases, chest pain, blood pressure issues and heart check-ups.',
                doctors: [
                    'Dr. Aditya Rao',
                    'Dr. Kavya Menon',
                    'Dr. Manish Chatterjee',
                    'Dr. Shreya Bhattacharya',
                    'Dr. Nikhil Sinha'
                ]
            },
            ortho: {
                name: 'Orthopaedics',
                desc: 'Orthopaedics focuses on bones, joints, back pain, fractures, sports injuries and posture issues.',
                doctors: [
                    'Dr. Arjun Patel',
                    'Dr. Nandini Joshi',
                    'Dr. Karan Verma',
                    'Dr. Sneha Dixit',
                    'Dr. Ravi Bhargava'
                ]
            },
            neuro: {
                name: 'Neurology',
                desc: 'Neurology treats brain, spine and nerve problems including migraines, seizures and neuropathy.',
                doctors: [
                    'Dr. Siddharth Krishnan',
                    'Dr. Pooja Raghavan',
                    'Dr. Harsh Venkatesh',
                    'Dr. Tanvi Mukherjee',
                    'Dr. Amitabh Kulshreshtha'
                ]
            }
        };

        function onDepartmentChange() {
            const deptSelect = document.getElementById('apt-dept');
            const doctorSelect = document.getElementById('apt-doctor');
            const desc = document.getElementById('dept-desc');
            const key = deptSelect.value;

            doctorSelect.innerHTML = '<option value="">-- Select Doctor --</option>';

            if (!key || !DEPARTMENT_INFO[key]) {
                desc.textContent = '';
                return;
            }

            const info = DEPARTMENT_INFO[key];
            desc.textContent = info.desc;

            info.doctors.forEach(name => {
                const opt = document.createElement('option');
                opt.value = name;
                opt.textContent = name;
                doctorSelect.appendChild(opt);
            });
        }

        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            loadDashboard();
        }

        function toggleForm(id) {
            const form = document.getElementById(id);
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }

        function showMessage(type, msg) {
            const msgDiv = document.getElementById('message');
            msgDiv.innerHTML = `<div class="alert alert-${type}">${msg}</div>`;
            setTimeout(() => msgDiv.innerHTML = '', 3000);
        }

        // Patient Functions
        async function addPatient(e) {
            e.preventDefault();
            const data = {
                name: document.getElementById('p-name').value,
                age: document.getElementById('p-age').value,
                contact: document.getElementById('p-contact').value,
                history: document.getElementById('p-history').value
            };

            try {
                const res = await fetch(`${API_URL}/patients`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await res.json();
                if (res.ok) {
                    showMessage('success', `‚úÖ Patient added: ${result.patient_id}`);
                    e.target.reset();
                    toggleForm('patientForm');
                    loadPatients();
                } else {
                    showMessage('danger', result.error);
                }
            } catch (err) {
                showMessage('danger', 'Error: ' + err.message);
            }
        }

        async function loadPatients() {
            try {
                const res = await fetch(`${API_URL}/patients`);
                const data = await res.json();
                const tbody = document.getElementById('patients-body');

                if (data.length === 0) {
                    tbody.innerHTML = '<tr class="no-data"><td colspan="5">No patients yet</td></tr>';
                } else {
                    tbody.innerHTML = data.map(p => `
                        <tr>
                            <td><strong>${p.patient_id}</strong></td>
                            <td>${p.name}</td>
                            <td>${p.age}</td>
                            <td>${p.contact}</td>
                            <td>
                                <button class="btn btn-danger" onclick="deletePatient('${p.patient_id}')">Delete</button>
                            </td>
                        </tr>
                    `).join('');
                }
            } catch (err) {
                console.error(err);
            }
        }

        async function deletePatient(id) {
            if (!confirm('Delete patient?')) return;
            try {
                const res = await fetch(`${API_URL}/patients/${id}`, { method: 'DELETE' });
                if (res.ok) {
                    showMessage('success', 'Patient deleted');
                    loadPatients();
                }
            } catch (err) {
                showMessage('danger', err.message);
            }
        }

        // Appointment Functions
        async function addAppointment(e) {
            e.preventDefault();
            const data = {
                patient_id: document.getElementById('apt-pid').value,
                doctor: document.getElementById('apt-doctor').value,
                date: document.getElementById('apt-date').value,
                time: document.getElementById('apt-time').value
            };

            try {
                const res = await fetch(`${API_URL}/appointments`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await res.json();
                if (res.ok) {
                    showMessage('success', '‚úÖ Appointment booked');
                    e.target.reset();
                    toggleForm('appointmentForm');
                    loadAppointments();
                } else {
                    showMessage('danger', result.error);
                }
            } catch (err) {
                showMessage('danger', 'Error: ' + err.message);
            }
        }

        async function loadAppointments() {
            try {
                const res = await fetch(`${API_URL}/appointments`);
                const data = await res.json();
                const tbody = document.getElementById('appointments-body');

                if (data.length === 0) {
                    tbody.innerHTML = '<tr class="no-data"><td colspan="6">No appointments</td></tr>';
                } else {
                    tbody.innerHTML = data.map(a => `
                        <tr>
                            <td>${a.appointment_id}</td>
                            <td>${a.patient_id}</td>
                            <td>${a.doctor}</td>
                            <td>${a.date} ${a.time}</td>
                            <td><span class="badge badge-success">${a.status}</span></td>
                            <td>
                                <button class="btn btn-danger" onclick="cancelAppointment('${a.appointment_id}')">Cancel</button>
                            </td>
                        </tr>
                    `).join('');
                }
            } catch (err) {
                console.error(err);
            }
        }

        async function cancelAppointment(id) {
            try {
                const res = await fetch(`${API_URL}/appointments/${id}`, { method: 'DELETE' });
                if (res.ok) {
                    showMessage('success', 'Appointment cancelled');
                    loadAppointments();
                }
            } catch (err) {
                showMessage('danger', err.message);
            }
        }

        // BMI Functions
        async function addBMI(e) {
            e.preventDefault();
            const weight = parseFloat(document.getElementById('bmi-weight').value);
            const height = parseFloat(document.getElementById('bmi-height').value);

            const data = {
                patient_id: document.getElementById('bmi-pid').value,
                weight: weight,
                height: height
            };

            try {
                const res = await fetch(`${API_URL}/bmi`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await res.json();
                if (res.ok) {
                    showMessage('success', `‚úÖ BMI: ${result.bmi} (${result.category})`);
                    e.target.reset();
                    toggleForm('bmiForm');
                    loadBMI();
                } else {
                    showMessage('danger', result.error);
                }
            } catch (err) {
                showMessage('danger', 'Error: ' + err.message);
            }
        }

        async function loadBMI() {
            try {
                const res = await fetch(`${API_URL}/bmi`);
                const data = await res.json();
                const tbody = document.getElementById('bmi-body');

                if (data.length === 0) {
                    tbody.innerHTML = '<tr class="no-data"><td colspan="7">No records</td></tr>';
                } else {
                    tbody.innerHTML = data.map(b => `
                        <tr>
                            <td>${b.patient_id}</td>
                            <td>${b.weight}</td>
                            <td>${b.height}</td>
                            <td><strong>${b.bmi}</strong></td>
                            <td><span class="badge badge-success">${b.category}</span></td>
                            <td>${b.date}</td>
                            <td>
                                <button class="btn btn-danger" onclick="deleteBMI('${b.patient_id}')">Delete BMI</button>
                            </td>
                        </tr>
                    `).join('');
                }
            } catch (err) {
                console.error(err);
            }
        }

        async function deleteBMI(patientId) {
            if (!confirm('Delete BMI record(s) for this patient?')) return;
            try {
                const res = await fetch(`${API_URL}/bmi/${patientId}`, { method: 'DELETE' });
                if (res.ok) {
                    showMessage('success', 'BMI record(s) deleted');
                    loadBMI();
                } else {
                    showMessage('danger', 'Failed to delete BMI');
                }
            } catch (err) {
                showMessage('danger', 'Error: ' + err.message);
            }
        }

        // Symptom Functions
        async function addSymptom(e) {
            e.preventDefault();
            const data = {
                patient_id: document.getElementById('sym-pid').value,
                symptoms: document.getElementById('sym-list').value
            };

            try {
                const res = await fetch(`${API_URL}/symptoms`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                const result = await res.json();
                if (res.ok) {
                    showMessage('success', `‚úÖ Condition: ${result.condition}`);
                    e.target.reset();
                    toggleForm('symptomForm');
                    loadSymptoms();
                } else {
                    showMessage('danger', result.error);
                }
            } catch (err) {
                showMessage('danger', 'Error: ' + err.message);
            }
        }

        async function loadSymptoms() {
            try {
                const res = await fetch(`${API_URL}/symptoms`);
                const data = await res.json();
                const tbody = document.getElementById('symptoms-body');

                if (data.length === 0) {
                    tbody.innerHTML = '<tr class="no-data"><td colspan="5">No records</td></tr>';
                } else {
                    tbody.innerHTML = data.map(s => `
                        <tr>
                            <td>${s.patient_id}</td>
                            <td>${s.symptoms}</td>
                            <td><span class="badge badge-success">${s.condition}</span></td>
                            <td>${s.action}</td>
                            <td>${s.date}</td>
                        </tr>
                    `).join('');
                }
            } catch (err) {
                console.error(err);
            }
        }

        // Prediction Function
        async function analyzePrediction() {
            const pid = document.getElementById('pred-pid').value;
            if (!pid) {
                showMessage('danger', 'Enter Patient ID');
                return;
            }

            try {
                const res = await fetch(`${API_URL}/predict/${pid}`);
                const result = await res.json();

                const div = document.getElementById('pred-results');
                if (result.predictions && result.predictions.length > 0) {
                    div.innerHTML = `
                        <div class="alert alert-danger">
                            <strong>Risk Score: ${result.risk_score}/100</strong><br>
                            ${result.predictions.map(p => `‚ö†Ô∏è ${p}`).join('<br>')}
                        </div>
                    `;
                } else {
                    div.innerHTML = '<div class="alert alert-success">‚úÖ No predicted conditions! Patient appears healthy!</div>';
                }
            } catch (err) {
                showMessage('danger', 'Error: ' + err.message);
            }
        }

        // Dashboard
        async function loadDashboard() {
            try {
                const patients = await (await fetch(`${API_URL}/patients`)).json();
                const appointments = await (await fetch(`${API_URL}/appointments`)).json();
                const bmi = await (await fetch(`${API_URL}/bmi`)).json();
                const symptoms = await (await fetch(`${API_URL}/symptoms`)).json();

                document.getElementById('total-patients').textContent = patients.length;
                document.getElementById('total-appointments').textContent = appointments.length;
                document.getElementById('total-health').textContent = bmi.length;
                document.getElementById('total-symptoms').textContent = symptoms.length;
            } catch (err) {
                console.error(err);
            }
        }

        // Initialize
        window.addEventListener('load', () => {
            loadPatients();
            loadAppointments();
            loadBMI();
            loadSymptoms();
            loadDashboard();
        });
    </script>
</body>
</html>
